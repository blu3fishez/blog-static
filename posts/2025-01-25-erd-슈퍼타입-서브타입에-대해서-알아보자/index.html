<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>ERD 슈퍼타입-서브타입 관계에 대해서 알아보자 | blog.moozeh</title>
<meta name="keywords" content="Database, ERD">
<meta name="description" content="
네이버 부스트캠프 9기 가 끝난 후, 안드로이드 팀의 그룹프로젝트 Porring 에 리팩토링 프로젝트에 참여하여 백엔드로 참여하면서 생긴 일이다.
슈퍼타입 - 서브타입 관계란?
ERD의 특정 관계를 뜻하는데, 정확하게는 객체지향의 상속 개념과 유사한 데이터 모델링 패턴이다.
슈퍼타입
예를 들어, 슈퍼타입은 부모 클래스에 해당하며, 공동 톳것ㅇ을 가진 일반적인 특징이 있다.
예를 들면 직원에 해당된다.
서브타입
서브타입은 슈퍼 타입의 특수한 형태로, 고유 속성을 추가로 지니는 특성이 있다.
예를 들면 그 직원이 정규직인지, 계약직인지 여부를 나타내는 세부 정보들을 뜻한다. 이때, 세부 정보에 해당되는 정보만 남기도록 한다.">
<meta name="author" content="moozeh">
<link rel="canonical" href="https://blog.moozeh.org/posts/2025-01-25-erd-%EC%8A%88%ED%8D%BC%ED%83%80%EC%9E%85-%EC%84%9C%EB%B8%8C%ED%83%80%EC%9E%85%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.580d5c4b37c6350e62c76a9e39ccff4785bf5e515b18b3cb0605dea4cc5f5376.css" integrity="sha256-WA1cSzfGNQ5ix2qeOcz/R4W/XlFbGLPLBgXepMxfU3Y=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://blog.moozeh.org/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.moozeh.org/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.moozeh.org/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://blog.moozeh.org/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.moozeh.org/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://blog.moozeh.org/posts/2025-01-25-erd-%EC%8A%88%ED%8D%BC%ED%83%80%EC%9E%85-%EC%84%9C%EB%B8%8C%ED%83%80%EC%9E%85%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://blog.moozeh.org/posts/2025-01-25-erd-%EC%8A%88%ED%8D%BC%ED%83%80%EC%9E%85-%EC%84%9C%EB%B8%8C%ED%83%80%EC%9E%85%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90/">
  <meta property="og:site_name" content="blog.moozeh">
  <meta property="og:title" content="ERD 슈퍼타입-서브타입 관계에 대해서 알아보자">
  <meta property="og:description" content=" 네이버 부스트캠프 9기 가 끝난 후, 안드로이드 팀의 그룹프로젝트 Porring 에 리팩토링 프로젝트에 참여하여 백엔드로 참여하면서 생긴 일이다.
슈퍼타입 - 서브타입 관계란? ERD의 특정 관계를 뜻하는데, 정확하게는 객체지향의 상속 개념과 유사한 데이터 모델링 패턴이다.
슈퍼타입 예를 들어, 슈퍼타입은 부모 클래스에 해당하며, 공동 톳것ㅇ을 가진 일반적인 특징이 있다.
예를 들면 직원에 해당된다.
서브타입 서브타입은 슈퍼 타입의 특수한 형태로, 고유 속성을 추가로 지니는 특성이 있다.
예를 들면 그 직원이 정규직인지, 계약직인지 여부를 나타내는 세부 정보들을 뜻한다. 이때, 세부 정보에 해당되는 정보만 남기도록 한다.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-01-25T15:20:14+09:00">
    <meta property="article:modified_time" content="2025-01-25T15:20:14+09:00">
    <meta property="article:tag" content="Database">
    <meta property="article:tag" content="ERD">
      <meta property="og:image" content="https://blog.moozeh.org/images/papermod-cover.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://blog.moozeh.org/images/papermod-cover.png">
<meta name="twitter:title" content="ERD 슈퍼타입-서브타입 관계에 대해서 알아보자">
<meta name="twitter:description" content="
네이버 부스트캠프 9기 가 끝난 후, 안드로이드 팀의 그룹프로젝트 Porring 에 리팩토링 프로젝트에 참여하여 백엔드로 참여하면서 생긴 일이다.
슈퍼타입 - 서브타입 관계란?
ERD의 특정 관계를 뜻하는데, 정확하게는 객체지향의 상속 개념과 유사한 데이터 모델링 패턴이다.
슈퍼타입
예를 들어, 슈퍼타입은 부모 클래스에 해당하며, 공동 톳것ㅇ을 가진 일반적인 특징이 있다.
예를 들면 직원에 해당된다.
서브타입
서브타입은 슈퍼 타입의 특수한 형태로, 고유 속성을 추가로 지니는 특성이 있다.
예를 들면 그 직원이 정규직인지, 계약직인지 여부를 나타내는 세부 정보들을 뜻한다. 이때, 세부 정보에 해당되는 정보만 남기도록 한다.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://blog.moozeh.org/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "ERD 슈퍼타입-서브타입 관계에 대해서 알아보자",
      "item": "https://blog.moozeh.org/posts/2025-01-25-erd-%EC%8A%88%ED%8D%BC%ED%83%80%EC%9E%85-%EC%84%9C%EB%B8%8C%ED%83%80%EC%9E%85%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "ERD 슈퍼타입-서브타입 관계에 대해서 알아보자",
  "name": "ERD 슈퍼타입-서브타입 관계에 대해서 알아보자",
  "description": " 네이버 부스트캠프 9기 가 끝난 후, 안드로이드 팀의 그룹프로젝트 Porring 에 리팩토링 프로젝트에 참여하여 백엔드로 참여하면서 생긴 일이다.\n슈퍼타입 - 서브타입 관계란? ERD의 특정 관계를 뜻하는데, 정확하게는 객체지향의 상속 개념과 유사한 데이터 모델링 패턴이다.\n슈퍼타입 예를 들어, 슈퍼타입은 부모 클래스에 해당하며, 공동 톳것ㅇ을 가진 일반적인 특징이 있다.\n예를 들면 직원에 해당된다.\n서브타입 서브타입은 슈퍼 타입의 특수한 형태로, 고유 속성을 추가로 지니는 특성이 있다.\n예를 들면 그 직원이 정규직인지, 계약직인지 여부를 나타내는 세부 정보들을 뜻한다. 이때, 세부 정보에 해당되는 정보만 남기도록 한다.\n",
  "keywords": [
    "Database", "ERD"
  ],
  "articleBody": " 네이버 부스트캠프 9기 가 끝난 후, 안드로이드 팀의 그룹프로젝트 Porring 에 리팩토링 프로젝트에 참여하여 백엔드로 참여하면서 생긴 일이다.\n슈퍼타입 - 서브타입 관계란? ERD의 특정 관계를 뜻하는데, 정확하게는 객체지향의 상속 개념과 유사한 데이터 모델링 패턴이다.\n슈퍼타입 예를 들어, 슈퍼타입은 부모 클래스에 해당하며, 공동 톳것ㅇ을 가진 일반적인 특징이 있다.\n예를 들면 직원에 해당된다.\n서브타입 서브타입은 슈퍼 타입의 특수한 형태로, 고유 속성을 추가로 지니는 특성이 있다.\n예를 들면 그 직원이 정규직인지, 계약직인지 여부를 나타내는 세부 정보들을 뜻한다. 이때, 세부 정보에 해당되는 정보만 남기도록 한다.\n이를테면, 정규직이라면, 연봉 데이터가 추가적으로 필요할 것이고 계약직이라면 시급과 계약기간 만이 필요할 것이다. 공통되는 정보는 슈퍼타입 에 넣도록 하자.\n슈퍼타입 - 서브타입 관계의 활용 예시 실제로 Porring 프로젝트에서는 OAuth 를 지원해야하는데, 이때 활용할 수 있다.\n일단 기본적으로 아래와 같이 이메일 로그인과 OAuth 로그인 방식 두가지로 가입된 유저 유형이 있을 것이다.\n![[Pasted image 20250126150900.png]]\n유저의 기본적인 정보는 유저 테이블에 저장하고, 로그인 방식에 따라 이메일 기반일 경우 해당되는 이메일 만을 서브 타입으로써 저장하고, OAuth 로그인이라면 OAuth 제공자와 리프레쉬토큰(예시) 를 저장할 수 있겠다.\n데이터베이스에서 실제로 접근하는 방법은? 다른 예시를 들어보자.\n예를 들어, 직원이 정규직인지, 계약직인지 상세하게 구별하고 싶다.\n하지만 이때, 특정 ‘직원’이 정규직인지, 계약직인지를 어떻게 데이터베이스 에서 확인할 수 있을까?\n![[2025-01-25-erd-슈퍼타입-서브타입에-대해서-알아보자-1756206982687.webp]]\nerDiagram EMPLOYEE { int employee_id PK varchar name varchar contact varchar employee_type } REGULAR_EMPLOYEE { int employee_id PK, FK decimal salary } CONTRACT_EMPLOYEE { int employee_id PK, FK date contract_end decimal hourly_wage } EMPLOYEE ||--o| REGULAR_EMPLOYEE : is EMPLOYEE ||--o| CONTRACT_EMPLOYEE : is 이때는 직원 테이블의 EMPLOYEE_TYPE 이라는 별도의 값으로 구별한 후, 서브 타입에는 PK로 직원 ID를 FK 로 선언한 상황이다.\n이렇게 된다면, 직원 조회 시, EMPLOYEE_TYPE 을 사용하여 해당되는 서브타입 테이블과 JOIN 하여 확인할 수 있다.\n성능이 저하 될 때 하지만, 그렇다면 또다시 의문이 들 것이다.\n유저를 조회할 때마다 JOIN 을 사용하면 성능에 영향이 가지 않을까 라는 것이다.\n데이터의 정합성을 위해서는 JOIN 하는게 맞지만, 서브 쿼리를 활용할 수도 있을 것이다.\n유저 테이블만 검색하기 유저테이블로부터 유형 알아내기 알아낸 유형으로 유저의 ID로 해당 테이블로부터 검색하기 그럴 경우, 아래와 같은 방법으로도 활용할 수 있다.\n-- 직원 기본정보 조회 SELECT * FROM EMPLOYEE WHERE employee_id = 1; -- 직원유형에 따른 상세정보 조회 SELECT CASE WHEN e.employee_type = 'REGULAR' THEN (SELECT salary FROM REGULAR_EMPLOYEE WHERE employee_id = e.employee_id) WHEN e.employee_type = 'CONTRACT' THEN (SELECT hourly_wage FROM CONTRACT_EMPLOYEE WHERE employee_id = e.employee_id) END AS payment_info FROM EMPLOYEE e WHERE e.employee_id = 1; 그럼에도 성능저하가 일어날 경우, 테이블을 합치고, NULLABLE 을 허용하는 수 밖에 없다. 쉽게 말해서 반정규화 하는 수밖에 없을 것이다.\n",
  "wordCount" : "395",
  "inLanguage": "en",
  "image": "https://blog.moozeh.org/images/papermod-cover.png","datePublished": "2025-01-25T15:20:14+09:00",
  "dateModified": "2025-01-25T15:20:14+09:00",
  "author":{
    "@type": "Person",
    "name": "moozeh"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://blog.moozeh.org/posts/2025-01-25-erd-%EC%8A%88%ED%8D%BC%ED%83%80%EC%9E%85-%EC%84%9C%EB%B8%8C%ED%83%80%EC%9E%85%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "blog.moozeh",
    "logo": {
      "@type": "ImageObject",
      "url": "https://blog.moozeh.org/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.moozeh.org/" accesskey="h" title="blog.moozeh (Alt + H)">blog.moozeh</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://blog.moozeh.org/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://blog.moozeh.org/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://blog.moozeh.org/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://blog.moozeh.org/">Home</a>&nbsp;»&nbsp;<a href="https://blog.moozeh.org/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      ERD 슈퍼타입-서브타입 관계에 대해서 알아보자
    </h1>
    <div class="post-meta"><span title='2025-01-25 15:20:14 +0900 KST'>January 25, 2025</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;moozeh

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%ec%8a%88%ed%8d%bc%ed%83%80%ec%9e%85---%ec%84%9c%eb%b8%8c%ed%83%80%ec%9e%85-%ea%b4%80%ea%b3%84%eb%9e%80" aria-label="슈퍼타입 - 서브타입 관계란?">슈퍼타입 - 서브타입 관계란?</a><ul>
                        
                <li>
                    <a href="#%ec%8a%88%ed%8d%bc%ed%83%80%ec%9e%85" aria-label="슈퍼타입">슈퍼타입</a></li>
                <li>
                    <a href="#%ec%84%9c%eb%b8%8c%ed%83%80%ec%9e%85" aria-label="서브타입">서브타입</a></li></ul>
                </li>
                <li>
                    <a href="#%ec%8a%88%ed%8d%bc%ed%83%80%ec%9e%85---%ec%84%9c%eb%b8%8c%ed%83%80%ec%9e%85-%ea%b4%80%ea%b3%84%ec%9d%98-%ed%99%9c%ec%9a%a9-%ec%98%88%ec%8b%9c" aria-label="슈퍼타입 - 서브타입 관계의 활용 예시">슈퍼타입 - 서브타입 관계의 활용 예시</a><ul>
                        
                <li>
                    <a href="#%eb%8d%b0%ec%9d%b4%ed%84%b0%eb%b2%a0%ec%9d%b4%ec%8a%a4%ec%97%90%ec%84%9c-%ec%8b%a4%ec%a0%9c%eb%a1%9c-%ec%a0%91%ea%b7%bc%ed%95%98%eb%8a%94-%eb%b0%a9%eb%b2%95%ec%9d%80" aria-label="데이터베이스에서 실제로 접근하는 방법은?">데이터베이스에서 실제로 접근하는 방법은?</a></li>
                <li>
                    <a href="#%ec%84%b1%eb%8a%a5%ec%9d%b4-%ec%a0%80%ed%95%98-%eb%90%a0-%eb%95%8c" aria-label="성능이 저하 될 때">성능이 저하 될 때</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>
<div class="post-content"><!-- truncate -->
<p>네이버 부스트캠프 9기 가 끝난 후, 안드로이드 팀의 그룹프로젝트 <code>Porring</code> 에 리팩토링 프로젝트에 참여하여 백엔드로 참여하면서 생긴 일이다.</p>
<h2 id="슈퍼타입---서브타입-관계란">슈퍼타입 - 서브타입 관계란?<a hidden class="anchor" aria-hidden="true" href="#슈퍼타입---서브타입-관계란">#</a></h2>
<p>ERD의 특정 관계를 뜻하는데, 정확하게는 <strong>객체지향의 상속 개념과 유사한 데이터 모델링 패턴</strong>이다.</p>
<h3 id="슈퍼타입">슈퍼타입<a hidden class="anchor" aria-hidden="true" href="#슈퍼타입">#</a></h3>
<p>예를 들어, 슈퍼타입은 <strong>부모 클래스</strong>에 해당하며, 공동 톳것ㅇ을 가진 일반적인 특징이 있다.</p>
<p>예를 들면 직원에 해당된다.</p>
<h3 id="서브타입">서브타입<a hidden class="anchor" aria-hidden="true" href="#서브타입">#</a></h3>
<p>서브타입은 슈퍼 타입의 <strong>특수한 형태</strong>로, 고유 속성을 추가로 지니는 특성이 있다.</p>
<p>예를 들면 그 직원이 정규직인지, 계약직인지 여부를 나타내는 세부 정보들을 뜻한다. 이때, <strong>세부 정보에 해당되는 정보만 남기도록 한다.</strong></p>
<p>이를테면, 정규직이라면, <code>연봉</code> 데이터가 추가적으로 필요할 것이고 계약직이라면 <code>시급</code>과 <code>계약기간</code> 만이 필요할 것이다. 공통되는 정보는 <code>슈퍼타입</code> 에 넣도록 하자.</p>
<h2 id="슈퍼타입---서브타입-관계의-활용-예시">슈퍼타입 - 서브타입 관계의 활용 예시<a hidden class="anchor" aria-hidden="true" href="#슈퍼타입---서브타입-관계의-활용-예시">#</a></h2>
<p>실제로 <code>Porring</code> 프로젝트에서는 <code>OAuth</code> 를 지원해야하는데, 이때 활용할 수 있다.</p>
<p>일단 기본적으로 아래와 같이 <strong>이메일 로그인</strong>과 <strong>OAuth</strong> 로그인 방식 두가지로 가입된 유저 유형이 있을 것이다.</p>
<img src="/assets/images/Pasted%20image%2020250126150900.png" alt="Pasted image 20250126150900" loading="lazy">
<p>유저의 기본적인 정보는 <code>유저</code> 테이블에 저장하고, 로그인 방식에 따라 이메일 기반일 경우 해당되는 이메일 만을 서브 타입으로써 저장하고, OAuth 로그인이라면 <code>OAuth</code> 제공자와 리프레쉬토큰(예시) 를 저장할 수 있겠다.</p>
<h3 id="데이터베이스에서-실제로-접근하는-방법은">데이터베이스에서 실제로 접근하는 방법은?<a hidden class="anchor" aria-hidden="true" href="#데이터베이스에서-실제로-접근하는-방법은">#</a></h3>
<p>다른 예시를 들어보자.</p>
<p>예를 들어, 직원이 정규직인지, 계약직인지 상세하게 구별하고 싶다.</p>
<p>하지만 이때, 특정 &lsquo;직원&rsquo;이 정규직인지, 계약직인지를 <strong>어떻게 데이터베이스 에서 확인할 수 있을까?</strong></p>
<img src="/assets/images/2025-01-25-erd-%EC%8A%88%ED%8D%BC%ED%83%80%EC%9E%85-%EC%84%9C%EB%B8%8C%ED%83%80%EC%9E%85%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90-1756206982687.webp" alt="2025-01-25-erd-슈퍼타입-서브타입에-대해서-알아보자-1756206982687" loading="lazy">
<pre tabindex="0"><code class="language-mermaid" data-lang="mermaid">erDiagram
    EMPLOYEE {
        int employee_id PK
        varchar name
        varchar contact
        varchar employee_type
    }
    REGULAR_EMPLOYEE {
        int employee_id PK, FK
        decimal salary
    }
    CONTRACT_EMPLOYEE {
        int employee_id PK, FK
        date contract_end
        decimal hourly_wage
    }
    EMPLOYEE ||--o| REGULAR_EMPLOYEE : is
    EMPLOYEE ||--o| CONTRACT_EMPLOYEE : is
</code></pre><p>이때는 직원 테이블의 <code>EMPLOYEE_TYPE</code> 이라는 별도의 값으로 구별한 후, 서브 타입에는 <code>PK</code>로 직원 ID를 <code>FK</code> 로 선언한 상황이다.</p>
<p>이렇게 된다면, 직원 조회 시, <code>EMPLOYEE_TYPE</code> 을 사용하여 해당되는 서브타입 테이블과 <code>JOIN</code> 하여 확인할 수 있다.</p>
<h3 id="성능이-저하-될-때">성능이 저하 될 때<a hidden class="anchor" aria-hidden="true" href="#성능이-저하-될-때">#</a></h3>
<p>하지만, 그렇다면 또다시 의문이 들 것이다.</p>
<p>유저를 조회할 때마다 <code>JOIN</code> 을 사용하면 성능에 영향이 가지 않을까 라는 것이다.</p>
<p>데이터의 정합성을 위해서는 <code>JOIN</code> 하는게 맞지만, <code>서브 쿼리</code>를 활용할 수도 있을 것이다.</p>
<ol>
<li>유저 테이블만 검색하기</li>
<li>유저테이블로부터 유형 알아내기</li>
<li>알아낸 유형으로 유저의 ID로 해당 테이블로부터 검색하기</li>
</ol>
<p>그럴 경우, 아래와 같은 방법으로도 활용할 수 있다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="c1">-- 직원 기본정보 조회
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 직원유형에 따른 상세정보 조회
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">CASE</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">employee_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;REGULAR&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">REGULAR_EMPLOYEE</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">employee_id</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">employee_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;CONTRACT&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">hourly_wage</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">CONTRACT_EMPLOYEE</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">employee_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">employee_id</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">payment_info</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">EMPLOYEE</span><span class="w"> </span><span class="n">e</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">employee_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><p>그럼에도 성능저하가 일어날 경우, 테이블을 합치고, <code>NULLABLE</code> 을 허용하는 수 밖에 없다. 쉽게 말해서 <strong>반정규화 하는 수밖에 없을 것이다.</strong></p>


    </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://blog.moozeh.org/tags/database/">Database</a></li>
      <li><a href="https://blog.moozeh.org/tags/erd/">ERD</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://blog.moozeh.org/posts/2025-01-25-spring-stereotype-%EC%96%B4%EB%85%B8%ED%85%8C%EC%9D%B4%EC%85%98%EB%93%A4%EC%97%90-%EB%8C%80%ED%95%B4-%EC%95%8C%EC%95%84%EB%B3%B4%EC%9E%90/">
    <span class="title">« Prev</span>
    <br>
    <span>[Spring] Spring Stereotype 어노테이션들에 대해 알아보자</span>
  </a>
  <a class="next" href="https://blog.moozeh.org/posts/2025-01-24-%EB%AC%B8%EC%9E%90%EC%97%B4-%EB%92%A4%EC%97%90-%EB%AC%B8%EC%9E%90%EB%A5%BC-%EC%B6%94%EA%B0%80%ED%95%98%EB%8A%94-%EA%B0%80%EC%9E%A5-%ED%9A%A8%EC%9C%A8%EC%A0%81%EC%9D%B8-%EB%B0%A9%EB%B2%95%EC%9D%80/">
    <span class="title">Next »</span>
    <br>
    <span>문자열 뒤에 문자를 추가하는 가장 효율적인 방법은</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>© <a href="https://github.com/moozeh">moozeh</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
