<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Factory Method 패턴 살펴보기 | blog.blu3fishez</title>
<meta name="keywords" content="design_pattern">
<meta name="description" content="`react-diagrams` 에서 커스텀 노드를 만들일이 생겨 커스텀 노드 패턴을 알아보던중 엥? Factory? 리액트에선 분명 deprecated 됐을텐데… 뭔가 이상하다 싶어서 알아보았고, 리액트의 그것을 사용하는게 아닌 정말로 디자인 패턴이라는 것을 알게 되었다.">
<meta name="author" content="blu3fishez">
<link rel="canonical" href="https://blog.blu3fishez.org/posts/2024/2024-03-16-factory-method-pattern/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d3f251795b1b2227fec87dbd9339a39a72025c1e2678c7b78fdbf5213fbef45d.css" integrity="sha256-0/JReVsbIif&#43;yH29kzmjmnICXB4meMe3j9v1IT&#43;&#43;9F0=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://blog.blu3fishez.org/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.blu3fishez.org/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.blu3fishez.org/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://blog.blu3fishez.org/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.blu3fishez.org/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://blog.blu3fishez.org/posts/2024/2024-03-16-factory-method-pattern/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://blog.blu3fishez.org/posts/2024/2024-03-16-factory-method-pattern/">
  <meta property="og:site_name" content="blog.blu3fishez">
  <meta property="og:title" content="Factory Method 패턴 살펴보기">
  <meta property="og:description" content="`react-diagrams` 에서 커스텀 노드를 만들일이 생겨 커스텀 노드 패턴을 알아보던중 엥? Factory? 리액트에선 분명 deprecated 됐을텐데… 뭔가 이상하다 싶어서 알아보았고, 리액트의 그것을 사용하는게 아닌 정말로 디자인 패턴이라는 것을 알게 되었다.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-03-16T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-03-16T00:00:00+00:00">
    <meta property="article:tag" content="Design_pattern">
      <meta property="og:image" content="https://blog.blu3fishez.org/images/papermod-cover.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://blog.blu3fishez.org/images/papermod-cover.png">
<meta name="twitter:title" content="Factory Method 패턴 살펴보기">
<meta name="twitter:description" content="`react-diagrams` 에서 커스텀 노드를 만들일이 생겨 커스텀 노드 패턴을 알아보던중 엥? Factory? 리액트에선 분명 deprecated 됐을텐데… 뭔가 이상하다 싶어서 알아보았고, 리액트의 그것을 사용하는게 아닌 정말로 디자인 패턴이라는 것을 알게 되었다.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://blog.blu3fishez.org/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Factory Method 패턴 살펴보기",
      "item": "https://blog.blu3fishez.org/posts/2024/2024-03-16-factory-method-pattern/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Factory Method 패턴 살펴보기",
  "name": "Factory Method 패턴 살펴보기",
  "description": "`react-diagrams` 에서 커스텀 노드를 만들일이 생겨 커스텀 노드 패턴을 알아보던중 엥? Factory? 리액트에선 분명 deprecated 됐을텐데… 뭔가 이상하다 싶어서 알아보았고, 리액트의 그것을 사용하는게 아닌 정말로 디자인 패턴이라는 것을 알게 되었다.",
  "keywords": [
    "design_pattern"
  ],
  "articleBody": "Factory Method 패턴 살펴보기 react-diagrams 에서 커스텀 노드를 만들일이 생겨 커스텀 노드 패턴을 알아보던중 엥? Factory? 리액트에선 분명 deprecated 됐을텐데… 뭔가 이상하다 싶어서 알아보았고, 리액트의 그것을 사용하는게 아닌 정말로 디자인 패턴이라는 것을 알게 되었다.\n우선 결론부터 말하자면, 팩토리 패턴이 말이 어려울 뿐이지 실제론 아무것도 아니다.\n생각해보기 우리가 특정 함수로 여러가지의 클래스를 기반으로 하는 객체를 생성한다고 치자. 예를들어, 동물 클래스를 상속하는 고양이, 개, 여우 의 클래스를 생성하는 생성 함수가 있다고 생각해보자.\n가장 기본적인 방법은 그냥 부모클래스로 객체를 생성한 후에, 들어온 타입에 따라 값을 수정해주는 방법이 있겠다. 또는 타입에 따라 상속받은 클래스들을 new 생성자를 통해 뱉어주면 될것이다.\n일단 전자는 추가되는 자식 클래스의 종류(동물의 종류) 가 많아질 수록 구현해야할 분량이 미친듯이 불어난다. 후자의 경우도 예외는 없다. 후자의 경우, 생성 함수가 크게 길어질 일은 없겠지만, 생성 함수 자체를 수정해야한다는 결합성에 문제가 생긴다.\n팩토리 메소드 패턴 팩토리 메소드 패턴은 상술한 문제를 해결할 수 있는 디자인 패턴이라고 보면 된다. 팩토리 메소드 패턴을 사용하면 생성함수와 각각의 하위 클래스 간의 결합성이 많이 줄어든다. 다시 말해 생성함수를 일일이 수정할 필요가 없어진다는 뜻이다. 그렇게 된다면, 유지보수성이 크게 증가할 것이다.\n애초에 생성함수 자체를 건드릴 일이 없도록 만드는 것이 팩토리 메소드 패턴의 의의라고 볼 수 있다.\n팩토리 패턴의 주요 패러다임 클래스를 생성하는 생성함수(팩토리함수) 는 공통 코드로 둔다. 인스턴스를 생성하는 각 하위 클래스별 메인 코드는 하위 팩토리 클래스에서 만들도록 결정을 한다. 생성한 하위 팩토리 클래스를 등록하여, 추후에 팩토리 함수로 생성할 수 있게끔 만든다. // AnimalFactory.ts abstract class AnimalFactory { abstract createAnimal(name:string, sound:string):Animal; getData(name:string, sound:string): Animal { this.checkAnimal(); const animal:Animal = this.createAnimal(name, sound); return animal; } checkAnimal(){ console.log(\"새로운 동물을 확인해보세요~!\"); } } // DogFactory.ts class DogFactory extends AnimalFactory { createAnimal(name:string, sound:string): Animal { return new Dog(name, \"woof\"); } } // CatFactory.ts class CatFactory extends AnimalFactory { createAnimal(name:string, sound:string): Animal { return new Cat(name, \"meow meow\"); } } // Animals.ts class Animal { name?:string; sound?:string; saySound() { console.log(this.name + \" says \" + this.sound); } } // Cat.ts class Cat extends Animal { constructor(name:string, sound:string) { super(); this.name = name; this.sound = sound; } } // Dog.ts class Dog extends Animal { constructor(name:string, sound:string) { super(); this.name = name; this.sound = sound; } } 이렇게 따로 생성해서 어떻게 사용하면 되냐면 하위 클래스의 팩토리 클래스의 인스턴스를 생성하여 이의 createAnimal 메소드를 실행시켜주는 형식으로 사용하면 된다.\n// main.ts const dog:Dog = new DogFactory().getData(\"dog\", \"woof woof\"); 싱글톤 형식으로 만들어보기 매번 new DogFatory() 형식으로 새롭게 인스턴스를 만들어 메모리 낭비를 주는 것보단 그냥 정적 인스턴스를 받아서 사용하는 게 메모리 상으론 이득일 것이다.\n// DogFactory.ts class DogFactory extends AnimalFactory { private static instance: DogFactory; public static getInstance() { if(!DogFactory.instance) { DogFactory.instance = new DogFactory(); } return DogFactory.instance; } createAnimal(name:string, sound:string): Animal { return new Dog(name, \"woof woof\"); } } ",
  "wordCount" : "427",
  "inLanguage": "en",
  "image": "https://blog.blu3fishez.org/images/papermod-cover.png","datePublished": "2024-03-16T00:00:00Z",
  "dateModified": "2024-03-16T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "blu3fishez"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://blog.blu3fishez.org/posts/2024/2024-03-16-factory-method-pattern/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "blog.blu3fishez",
    "logo": {
      "@type": "ImageObject",
      "url": "https://blog.blu3fishez.org/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.blu3fishez.org/" accesskey="h" title="blog.blu3fishez (Alt + H)">blog.blu3fishez</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://blog.blu3fishez.org/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://blog.blu3fishez.org/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://blog.blu3fishez.org/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://blog.blu3fishez.org/">Home</a>&nbsp;»&nbsp;<a href="https://blog.blu3fishez.org/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Factory Method 패턴 살펴보기
    </h1>
    <div class="post-description">
      `react-diagrams` 에서 커스텀 노드를 만들일이 생겨 커스텀 노드 패턴을 알아보던중 엥? Factory? 리액트에선 분명 deprecated 됐을텐데… 뭔가 이상하다 싶어서 알아보았고, 리액트의 그것을 사용하는게 아닌 정말로 디자인 패턴이라는 것을 알게 되었다.
    </div>
    <div class="post-meta"><span title='2024-03-16 00:00:00 +0000 UTC'>March 16, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;blu3fishez

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#factory-method-%ed%8c%a8%ed%84%b4-%ec%82%b4%ed%8e%b4%eb%b3%b4%ea%b8%b0" aria-label="Factory Method 패턴 살펴보기">Factory Method 패턴 살펴보기</a></li>
                <li>
                    <a href="#%ec%83%9d%ea%b0%81%ed%95%b4%eb%b3%b4%ea%b8%b0" aria-label="생각해보기">생각해보기</a></li>
                <li>
                    <a href="#%ed%8c%a9%ed%86%a0%eb%a6%ac-%eb%a9%94%ec%86%8c%eb%93%9c-%ed%8c%a8%ed%84%b4" aria-label="팩토리 메소드 패턴">팩토리 메소드 패턴</a><ul>
                        
                <li>
                    <a href="#%ed%8c%a9%ed%86%a0%eb%a6%ac-%ed%8c%a8%ed%84%b4%ec%9d%98-%ec%a3%bc%ec%9a%94-%ed%8c%a8%eb%9f%ac%eb%8b%a4%ec%9e%84" aria-label="팩토리 패턴의 주요 패러다임">팩토리 패턴의 주요 패러다임</a></li></ul>
                </li>
                <li>
                    <a href="#%ec%8b%b1%ea%b8%80%ed%86%a4-%ed%98%95%ec%8b%9d%ec%9c%bc%eb%a1%9c-%eb%a7%8c%eb%93%a4%ec%96%b4%eb%b3%b4%ea%b8%b0" aria-label="싱글톤 형식으로 만들어보기">싱글톤 형식으로 만들어보기</a>
                </li>
            </ul>
        </div>
    </details>
</div>
<div class="post-content"><h2 id="factory-method-패턴-살펴보기">Factory Method 패턴 살펴보기<a hidden class="anchor" aria-hidden="true" href="#factory-method-패턴-살펴보기">#</a></h2>
<p><code>react-diagrams</code> 에서 커스텀 노드를 만들일이 생겨 커스텀 노드 패턴을 알아보던중 엥? Factory? 리액트에선 분명 deprecated 됐을텐데… 뭔가 이상하다 싶어서 알아보았고, 리액트의 그것을 사용하는게 아닌 정말로 디자인 패턴이라는 것을 알게 되었다.</p>
<p>우선 결론부터 말하자면, 팩토리 패턴이 말이 어려울 뿐이지 실제론 아무것도 아니다.</p>
<h2 id="생각해보기">생각해보기<a hidden class="anchor" aria-hidden="true" href="#생각해보기">#</a></h2>
<p>우리가 특정 함수로 여러가지의 클래스를 기반으로 하는 객체를 생성한다고 치자. 예를들어, 동물 클래스를 상속하는 고양이, 개, 여우 의 클래스를 생성하는 생성 함수가 있다고 생각해보자.</p>
<p>가장 기본적인 방법은 그냥 부모클래스로 객체를 생성한 후에, 들어온 타입에 따라 값을 수정해주는 방법이 있겠다. 또는 타입에 따라 상속받은 클래스들을 <code>new</code> 생성자를 통해 뱉어주면 될것이다.</p>
<p>일단 전자는 추가되는 자식 클래스의 종류(동물의 종류) 가 많아질 수록 구현해야할 분량이 미친듯이 불어난다. 후자의 경우도 예외는 없다. 후자의 경우, 생성 함수가 크게 길어질 일은 없겠지만, 생성 함수 자체를 수정해야한다는 결합성에 문제가 생긴다.</p>
<h2 id="팩토리-메소드-패턴">팩토리 메소드 패턴<a hidden class="anchor" aria-hidden="true" href="#팩토리-메소드-패턴">#</a></h2>
<p>팩토리 메소드 패턴은 상술한 문제를 해결할 수 있는 디자인 패턴이라고 보면 된다. 팩토리 메소드 패턴을 사용하면 생성함수와 각각의 하위 클래스 간의 결합성이 많이 줄어든다. 다시 말해 생성함수를 일일이 수정할 필요가 없어진다는 뜻이다. 그렇게 된다면, 유지보수성이 크게 증가할 것이다.</p>
<p>애초에 생성함수 자체를 건드릴 일이 없도록 만드는 것이 팩토리 메소드 패턴의 의의라고 볼 수 있다.</p>
<h3 id="팩토리-패턴의-주요-패러다임">팩토리 패턴의 주요 패러다임<a hidden class="anchor" aria-hidden="true" href="#팩토리-패턴의-주요-패러다임">#</a></h3>
<ol>
<li>클래스를 생성하는 생성함수(팩토리함수) 는 공통 코드로 둔다.</li>
<li>인스턴스를 생성하는 각 하위 클래스별 메인 코드는 하위 팩토리 클래스에서 만들도록 결정을 한다.</li>
<li>생성한 하위 팩토리 클래스를 등록하여, 추후에 팩토리 함수로 생성할 수 있게끔 만든다.</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="c1">// AnimalFactory.ts
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">abstract</span> <span class="kr">class</span> <span class="nx">AnimalFactory</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">abstract</span> <span class="nx">createAnimal</span><span class="p">(</span><span class="nx">name</span>:<span class="kt">string</span><span class="p">,</span> <span class="nx">sound</span>:<span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="nx">Animal</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">getData</span><span class="p">(</span><span class="nx">name</span>:<span class="kt">string</span><span class="p">,</span> <span class="nx">sound</span>:<span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="nx">Animal</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">checkAnimal</span><span class="p">();</span> 
</span></span><span class="line"><span class="cl">		<span class="kr">const</span> <span class="nx">animal</span>:<span class="kt">Animal</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">createAnimal</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">sound</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">animal</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">checkAnimal</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;새로운 동물을 확인해보세요~!&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// DogFactory.ts
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">DogFactory</span> <span class="kr">extends</span> <span class="nx">AnimalFactory</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">createAnimal</span><span class="p">(</span><span class="nx">name</span>:<span class="kt">string</span><span class="p">,</span> <span class="nx">sound</span>:<span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="nx">Animal</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="k">new</span> <span class="nx">Dog</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="s2">&#34;woof&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// CatFactory.ts
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">CatFactory</span> <span class="kr">extends</span> <span class="nx">AnimalFactory</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">createAnimal</span><span class="p">(</span><span class="nx">name</span>:<span class="kt">string</span><span class="p">,</span> <span class="nx">sound</span>:<span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="nx">Animal</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="k">new</span> <span class="nx">Cat</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="s2">&#34;meow meow&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="c1">// Animals.ts
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">Animal</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">name?</span>:<span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">sound?</span>:<span class="kt">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">saySound() {</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&#34; says &#34;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">sound</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Cat.ts
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">Cat</span> <span class="kr">extends</span> <span class="nx">Animal</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">constructor</span><span class="p">(</span><span class="nx">name</span>:<span class="kt">string</span><span class="p">,</span> <span class="nx">sound</span>:<span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">super</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">sound</span> <span class="o">=</span> <span class="nx">sound</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Dog.ts
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">Dog</span> <span class="kr">extends</span> <span class="nx">Animal</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">constructor</span><span class="p">(</span><span class="nx">name</span>:<span class="kt">string</span><span class="p">,</span> <span class="nx">sound</span>:<span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">super</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">this</span><span class="p">.</span><span class="nx">sound</span> <span class="o">=</span> <span class="nx">sound</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>이렇게 따로 생성해서 어떻게 사용하면 되냐면 하위 클래스의 팩토리 클래스의 인스턴스를 생성하여 이의 <code>createAnimal</code> 메소드를 실행시켜주는 형식으로 사용하면 된다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="c1">// main.ts
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">dog</span>:<span class="kt">Dog</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DogFactory</span><span class="p">().</span><span class="nx">getData</span><span class="p">(</span><span class="s2">&#34;dog&#34;</span><span class="p">,</span> <span class="s2">&#34;woof woof&#34;</span><span class="p">);</span>
</span></span></code></pre></div><h2 id="싱글톤-형식으로-만들어보기">싱글톤 형식으로 만들어보기<a hidden class="anchor" aria-hidden="true" href="#싱글톤-형식으로-만들어보기">#</a></h2>
<p>매번 <code>new DogFatory()</code> 형식으로 새롭게 인스턴스를 만들어 메모리 낭비를 주는 것보단 그냥 정적 인스턴스를 받아서 사용하는 게 메모리 상으론 이득일 것이다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="c1">// DogFactory.ts
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">DogFactory</span> <span class="kr">extends</span> <span class="nx">AnimalFactory</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kr">private</span> <span class="kr">static</span> <span class="nx">instance</span>: <span class="kt">DogFactory</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kr">public</span> <span class="kr">static</span> <span class="nx">getInstance() {</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">DogFactory</span><span class="p">.</span><span class="nx">instance</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">DogFactory</span><span class="p">.</span><span class="nx">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DogFactory</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="nx">DogFactory</span><span class="p">.</span><span class="nx">instance</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="nx">createAnimal</span><span class="p">(</span><span class="nx">name</span>:<span class="kt">string</span><span class="p">,</span> <span class="nx">sound</span>:<span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="nx">Animal</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="k">new</span> <span class="nx">Dog</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="s2">&#34;woof woof&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>

    </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://blog.blu3fishez.org/tags/design_pattern/">Design_pattern</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://blog.blu3fishez.org/posts/2024/2024-07-20-boostcamp-1/">
    <span class="title">« Prev</span>
    <br>
    <span>[부스트캠프 챌린지] 1주차 후기 및 회고
</span>
  </a>
  <a class="next" href="https://blog.blu3fishez.org/posts/2023/2023-12-30-linear-algebra-1/">
    <span class="title">Next »</span>
    <br>
    <span>[ 선형대수 ] 1. 행렬</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>© <a href="https://github.com/blu3fishez">blu3fishez</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
